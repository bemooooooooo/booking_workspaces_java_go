# Система бронирования мест для коворкинга - Итоговое описание проекта

## Обзор проекта

Полнофункциональная система бронирования мест для коворкинга, разработанная в соответствии с техническим заданием. Система обеспечивает быстрое, гарантированное и удобное бронирование рабочих мест и помещений через современный веб-интерфейс.

### Основные цели

- **Быстро** - минимизация количества шагов в процессе бронирования
- **Гарантированно** - актуальное отображение свободных мест и предотвращение двойного бронирования
- **Удобно** - интуитивно понятный интерфейс с линейной навигацией

## Архитектура системы

### Микросервисная архитектура

```md
┌─────────────────┐    ┌─────────────────┐    ┌─────────────────┐
│   React SPA     │    │  Booking API    │    │   Auth API      │
│   (Port 3000)   │◄──►│  (Port 8080)    │◄──►│  (Port 8081)    │
└─────────────────┘    └─────────────────┘    └─────────────────┘
                                │                       │
                                ▼                       ▼
                       ┌─────────────────────────────────────┐
                       │         PostgreSQL                  │
                       │         (Port 5432)                 │
                       └─────────────────────────────────────┘
```

## Компоненты системы

### 1. Booking Service (Java + Spring Boot)

**Назначение**: Основной сервис для управления бронированиями и рабочими местами

**Основные функции**:

- Управление рабочими местами (CRUD операции)
- Создание и управление бронированиями
- Проверка доступности мест
- Административные функции
- Валидация временных интервалов
- Предотвращение двойного бронирования

**Структура**:

```md
booking-service/
├── src/main/java/com/coworking/bookingservice/
│   ├── controller/         # REST контроллеры
│   ├── service/            # Бизнес-логика
│   ├── repository/         # Доступ к данным
│   ├── entity/             # JPA сущности
│   ├── jwtUtils/           # Утилиты для JWT
│   └── dto/                # Data Transfer Objects
├── src/main/resources/
│   └── application.yml     # Конфигурация
└── Dockerfile              # Docker образ
```

### 2. Auth Service (Go)

**Назначение**: Сервис авторизации и аутентификации пользователей

**Основные функции**:

- Регистрация и аутентификация пользователей
- Управление JWT токенами
- Управление профилями пользователей
- Административные функции
- Безопасное хеширование паролей

**Структура**:

```md
auth-service/
├── handlers/              # HTTP обработчики
├── services/              # Бизнес-логика
├── repository/            # Доступ к данным
├── models/                # Модели данных
├── middleware/            # Middleware функции
├── main.go                # Точка входа
└── Dockerfile             # Docker образ
```

### 3. Frontend (React)

**Назначение**: Пользовательский интерфейс для взаимодействия с системой

**Основные функции**:

- Просмотр доступных мест
- Создание и управление бронированиями
- Аутентификация пользователей
- Административный интерфейс
- Адаптивный дизайн

**Структура**:

```md
booking-frontend/
├── src/
│   ├── components/       # Переиспользуемые компоненты
│   ├── context/         # React Context
│   ├── services/        # API сервисы
│   └── utils/           # Утилиты
├── public/              # Статические файлы
└── Dockerfile          # Docker образ
```

## База данных

### PostgreSQL 15

**Схемы**:

- `auth` - пользователи и аутентификация
- `booking` - рабочие места и бронирования

**Основные таблицы**:

- `auth.users` - пользователи системы
- `booking.workspaces` - рабочие места
- `booking.reservations` - бронирования

**Оптимизация**:

- Индексы для быстрого поиска по времени
- Уникальные ограничения для предотвращения двойного бронирования
- Оптимизированные запросы для поиска доступных мест

## Безопасность

### JWT токены

- Access Token (24 часа)
- Refresh Token (7 дней)
- Безопасная передача токенов

### Валидация данных

- Проверка входных данных на всех уровнях
- Валидация временных интервалов
- Проверка прав доступа

### Защита приложения

- CORS настройки
- Заголовки безопасности
- Защита от XSS и CSRF атак

## API документация

### Swagger/OpenAPI

- Автоматическая генерация документации
- Интерактивные примеры
- Описание всех endpoints

### Основные endpoints

**Booking API**:

- `GET /api/workspaces` - получение всех мест
- `GET /api/workspaces/available` - поиск доступных мест
- `POST /api/reservations` - создание бронирования
- `DELETE /api/reservations/{id}` - отмена бронирования

**Auth API**:

- `POST /api/auth/register` - регистрация
- `POST /api/auth/login` - вход
- `GET /api/users/profile` - профиль пользователя

## Развертывание

```bash
# Клонирование репозитория
git clone <repository-url>
cd booking_java_go

# Запуск всех сервисов
docker-compose up -d

# Проверка статуса
docker-compose ps
```
